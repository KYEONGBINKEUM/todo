"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898,645],{8645:function(e,t,n){var i,r,s,a,o;function u(e,t,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function c(e,t,n,i,r){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}n.r(t),n.d(t,{Channel:function(){return h},PluginListener:function(){return f},Resource:function(){return g},SERIALIZE_TO_IPC_FN:function(){return l},addPluginListener:function(){return w},checkPermissions:function(){return p},convertFileSrc:function(){return y},invoke:function(){return v},isTauri:function(){return k},requestPermissions:function(){return _},transformCallback:function(){return d}}),"function"==typeof SuppressedError&&SuppressedError;let l="__TAURI_TO_IPC_KEY__";function d(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}class h{constructor(e){i.set(this,void 0),r.set(this,0),s.set(this,[]),a.set(this,void 0),c(this,i,e||(()=>{}),"f"),this.id=d(e=>{let t=e.index;if("end"in e){t==u(this,r,"f")?this.cleanupCallback():c(this,a,t,"f");return}let n=e.message;if(t==u(this,r,"f")){for(u(this,i,"f").call(this,n),c(this,r,u(this,r,"f")+1,"f");(u(this,r,"f") in u(this,s,"f"));){let e=u(this,s,"f")[u(this,r,"f")];u(this,i,"f").call(this,e),delete u(this,s,"f")[u(this,r,"f")],c(this,r,u(this,r,"f")+1,"f")}u(this,r,"f")===u(this,a,"f")&&this.cleanupCallback()}else u(this,s,"f")[t]=n})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){c(this,i,e,"f")}get onmessage(){return u(this,i,"f")}[(i=new WeakMap,r=new WeakMap,s=new WeakMap,a=new WeakMap,l)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[l]()}}class f{constructor(e,t,n){this.plugin=e,this.event=t,this.channelId=n}async unregister(){return v(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}}async function w(e,t,n){let i=new h(n);try{return await v(`plugin:${e}|register_listener`,{event:t,handler:i}),new f(e,t,i.id)}catch{return await v(`plugin:${e}|registerListener`,{event:t,handler:i}),new f(e,t,i.id)}}async function p(e){return v(`plugin:${e}|check_permissions`)}async function _(e){return v(`plugin:${e}|request_permissions`)}async function v(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}function y(e,t="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(e,t)}class g{get rid(){return u(this,o,"f")}constructor(e){o.set(this,void 0),c(this,o,e,"f")}async close(){return v("plugin:resources|close",{rid:this.rid})}}function k(){return!!(globalThis||window).isTauri}o=new WeakMap},9898:function(e,t,n){n.d(t,{check:function(){return s}});var i=n(8645);class r extends i.Resource{constructor(e){super(e.rid),this.available=!0,this.currentVersion=e.currentVersion,this.version=e.version,this.date=e.date,this.body=e.body,this.rawJson=e.rawJson}async download(e,t){a(t);let n=new i.Channel;e&&(n.onmessage=e);let r=await (0,i.invoke)("plugin:updater|download",{onEvent:n,rid:this.rid,...t});this.downloadedBytes=new i.Resource(r)}async install(){if(!this.downloadedBytes)throw Error("Update.install called before Update.download");await (0,i.invoke)("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(e,t){a(t);let n=new i.Channel;e&&(n.onmessage=e),await (0,i.invoke)("plugin:updater|download_and_install",{onEvent:n,rid:this.rid,...t})}async close(){await this.downloadedBytes?.close(),await super.close()}}async function s(e){a(e);let t=await (0,i.invoke)("plugin:updater|check",{...e});return t?new r(t):null}function a(e){e?.headers&&(e.headers=Array.from(new Headers(e.headers).entries()))}}}]);