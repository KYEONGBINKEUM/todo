(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3518:function(e,t,a){Promise.resolve().then(a.bind(a,7395))},7395:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7573),n=a(1319),r=a(1926),c=a(4193),l=a(1695),i=a(7653);function o(){let[e,t]=(0,i.useState)(!0),[o,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),{user:x,loading:f}=(0,c.a)(),p=(0,l.useRouter)(),m=(0,i.useRef)(null);(0,i.useEffect)(()=>{h("__TAURI__"in window||"__TAURI_INTERNALS__"in window||navigator.userAgent.includes("Tauri"))},[]),(0,i.useEffect)(()=>{!f&&x&&p.replace("/my-day")},[x,f,p]),(0,i.useEffect)(()=>{(0,n.cx)(r.I8).then(e=>{(null==e?void 0:e.user)?p.replace("/my-day"):t(!1)}).catch(()=>{t(!1)})},[]),(0,i.useEffect)(()=>()=>{m.current&&m.current()},[]);let b=(0,i.useCallback)(async()=>{t(!0),u(null);try{let{invoke:e}=await a.e(645).then(a.bind(a,8645)),{open:s}=await a.e(448).then(a.bind(a,6448)),{listen:n}=await a.e(20).then(a.bind(a,7020)),r=await e("start_oauth_server"),c=await n("oauth-callback",async e=>{c(),m.current=null;try{let a=JSON.parse(e.payload);if(!a||!a.uid){u("인증 정보를 받지 못했습니다. 다시 시도해주세요."),t(!1);return}localStorage.setItem("firebase:authUser:".concat("AIzaSyCDkLGCnaj0kOsGnZ49-GMXiaAn8BK-sRE",":[DEFAULT]"),JSON.stringify(a)),window.location.href="/my-day"}catch(a){let e=a instanceof Error?a.message:"로그인에 실패했습니다";u(e),t(!1)}});m.current=c;let l=new URLSearchParams({apiKey:"AIzaSyCDkLGCnaj0kOsGnZ49-GMXiaAn8BK-sRE",authDomain:"ai-todo-e213a.firebaseapp.com",projectId:"ai-todo-e213a"});await s("http://localhost:".concat(r,"/login?").concat(l.toString())),setTimeout(()=>{m.current&&(m.current(),m.current=null,u("로그인 시간이 초과되었습니다. 다시 시도해주세요."),t(!1))},12e4)}catch(a){let e=a instanceof Error?a.message:"로그인에 실패했습니다";console.error("Tauri login error:",a),u("데스크톱 로그인 오류: ".concat(e)),t(!1)}},[]),j=async()=>{t(!0),u(null);try{await (0,n.rh)(r.I8,r.Vv),p.replace("/my-day")}catch(a){let e=a instanceof Error?a.message:"로그인에 실패했습니다";if(e.includes("auth/popup-blocked")||e.includes("auth/popup-closed-by-browser"))try{await (0,n.F6)(r.I8,r.Vv);return}catch(e){u("로그인에 실패했습니다. 다시 시도해주세요.")}else e.includes("invalid-api-key")||e.includes("auth/configuration-not-found")?u("Firebase가 아직 설정되지 않았습니다. .env.local을 확인해주세요."):e.includes("auth/cancelled-popup-request")||u(e);t(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#08081a] p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-fade-up",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-[#e2e8f0] to-[#e94560] bg-clip-text text-transparent mb-2",children:"AI Todo"}),(0,s.jsx)("p",{className:"text-[#94a3b8]",children:"오늘을 설계해주는 디지털 비서"})]}),(0,s.jsxs)("div",{className:"bg-[#111128] border border-[#1e1e3a] rounded-2xl p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-[#e2e8f0]",children:"로그인"}),(0,s.jsx)("p",{className:"text-[#94a3b8] text-sm",children:"구글 계정으로 간편하게 시작하세요"}),d&&(0,s.jsx)("p",{className:"text-[#4a4a6a] text-xs",children:"시스템 브라우저에서 로그인이 진행됩니다"})]}),o&&(0,s.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-xs text-red-400 text-center",children:o}),(0,s.jsx)("button",{onClick:()=>{d?b():j()},disabled:e,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-white hover:bg-gray-50 text-gray-800 font-semibold rounded-xl border border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),(0,s.jsx)("span",{children:"Google로 계속하기"})]})}),(0,s.jsx)("button",{onClick:()=>p.push("/my-day"),className:"w-full py-3 text-[#94a3b8] hover:text-[#e2e8f0] text-sm transition-colors",children:"로그인 없이 둘러보기 →"}),(0,s.jsxs)("div",{className:"text-center text-xs text-[#4a4a6a]",children:["로그인하면"," ",(0,s.jsx)("a",{href:"#",className:"text-[#e94560] hover:underline",children:"서비스 약관"})," ","및"," ",(0,s.jsx)("a",{href:"#",className:"text-[#e94560] hover:underline",children:"개인정보 처리방침"}),"에 동의하게 됩니다."]})]}),(0,s.jsxs)("div",{className:"text-center space-y-3 text-sm text-[#94a3b8]",children:[(0,s.jsx)("p",{className:"font-semibold text-[#e2e8f0]",children:"시작하면 바로 사용 가능"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsxs)("li",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-[#e94560]",children:"✓"}),(0,s.jsx)("span",{children:"기본 Todo 관리"})]}),(0,s.jsxs)("li",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-[#e94560]",children:"✓"}),(0,s.jsx)("span",{children:"My Day 뷰"})]}),(0,s.jsxs)("li",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-[#e94560]",children:"✓"}),(0,s.jsx)("span",{children:"크로스 플랫폼 동기화"})]})]})]})]})})}},4193:function(e,t,a){"use strict";a.d(t,{H:function(){return i},a:function(){return o}});var s=a(7573),n=a(7653),r=a(1319),c=a(1926);let l=(0,n.createContext)({user:null,loading:!0,signOut:async()=>{}});function i(e){let{children:t}=e,[a,i]=(0,n.useState)(null),[o,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>(0,r.Aj)(c.I8,e=>{i(e),u(!1)}),[]);let d=async()=>{await (0,r.w7)(c.I8)};return(0,s.jsx)(l.Provider,{value:{user:a,loading:o,signOut:d},children:t})}let o=()=>(0,n.useContext)(l)},1926:function(e,t,a){"use strict";a.d(t,{I8:function(){return i},Vv:function(){return d},db:function(){return o},tO:function(){return u}});var s=a(8531),n=a(1319),r=a(6228),c=a(8221);let l=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyCDkLGCnaj0kOsGnZ49-GMXiaAn8BK-sRE",authDomain:"ai-todo-e213a.firebaseapp.com",projectId:"ai-todo-e213a",storageBucket:"ai-todo-e213a.firebasestorage.app",messagingSenderId:"175504330251",appId:"1:175504330251:web:a84c4ea117e4fc0654810e",measurementId:"G-K3TT3VR6NN"}):(0,s.C6)()[0],i=(()=>{try{return(0,n.uJ)(l,{persistence:n.a$,popupRedirectResolver:n.n0})}catch(e){return(0,n.v0)(l)}})(),o=(0,r.ad)(l),u=(0,c.cF)(l),d=new n.hJ},1695:function(e,t,a){"use strict";var s=a(1219);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[301,787,226,293,528,744],function(){return e(e.s=3518)}),_N_E=e.O()}]);