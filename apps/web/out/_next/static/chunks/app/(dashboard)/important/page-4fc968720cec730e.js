(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{4366:function(e,t,r){Promise.resolve().then(r.bind(r,3292))},3292:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(6717),s=r(7387),o=r(1097),l=r(9936),n=r(6813);function i(){let{user:e}=(0,o.a)(),{t}=(0,l.QT)(),[r,i]=(0,s.useState)([]),[d,c]=(0,s.useState)([]),[x,m]=(0,s.useState)(!0),u=(0,s.useCallback)(async()=>{if(e)try{let[t,r]=await Promise.all([(0,n.Ak)(e.uid),(0,n.yr)(e.uid)]);i(t.filter(e=>e.starred)),c(r)}catch(e){console.error("Failed to load:",e)}finally{m(!1)}},[e]);(0,s.useEffect)(()=>{u()},[u]);let b=async t=>{if(!e||!t.id)return;let r="completed"===t.status?"todo":"completed";i(e=>e.map(e=>e.id===t.id?{...e,status:r}:e)),await (0,n.xJ)(e.uid,t.id,{status:r})},h=async t=>{e&&t.id&&(i(e=>e.filter(e=>e.id!==t.id)),await (0,n.xJ)(e.uid,t.id,{starred:!1}))},p=e=>d.find(t=>t.id===e)||{label:"Tasks",color:"#e94560"};return x?(0,a.jsx)("div",{className:"p-8 flex items-center justify-center min-h-[50vh]",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-[#e94560] border-t-transparent rounded-full animate-spin"})}):(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"text-3xl",children:"⭐"}),(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-text-primary",children:t("important.title")}),(0,a.jsx)("span",{className:"text-sm text-text-muted ml-2",children:r.length})]}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:t("important.desc")})]}),(0,a.jsx)("div",{className:"space-y-2",children:r.map((e,r)=>{let s=function(e){let t={urgent:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30"},high:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30"},low:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"}};return t[e]||t.medium}(e.priority),o=p(e.listId),l="completed"===e.status;return(0,a.jsxs)("div",{className:"group flex items-center gap-3 p-4 bg-background-card border rounded-xl hover:border-border-hover transition-all ".concat(l?"border-border/50 opacity-60":"border-border"),style:{animation:"fadeUp 0.4s ease-out both",animationDelay:"".concat(.05*r,"s")},children:[(0,a.jsx)("button",{onClick:()=>b(e),className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 ".concat(l?"bg-gradient-to-br from-[#e94560] to-[#533483] border-transparent scale-110":"hover:border-[#e94560] hover:shadow-[0_0_8px_rgba(233,69,96,0.3)]"),style:l?void 0:{borderColor:"var(--color-checkbox-border)"},children:l&&(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("path",{d:"M3 7L6 10L11 4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("span",{className:"w-1.5 h-8 rounded-full flex-shrink-0",style:{backgroundColor:o.color}}),(0,a.jsx)("span",{className:"flex-1 text-sm transition-all ".concat(l?"line-through text-text-inactive":"text-text-primary"),children:e.title}),e.dueDate&&(0,a.jsxs)("span",{className:"text-[10px] text-text-muted",children:["\uD83D\uDCC5 ",e.dueDate.slice(5).replace("-","/")]}),(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full border",style:{color:o.color,borderColor:"".concat(o.color,"40"),backgroundColor:"".concat(o.color,"10")},children:o.label}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold border ".concat(s.bg," ").concat(s.text," ").concat(s.border),children:t("priority.".concat(e.priority))}),(0,a.jsx)("button",{onClick:()=>h(e),className:"text-lg text-amber-400 drop-shadow-[0_0_4px_rgba(251,191,36,0.5)] hover:text-amber-300 transition-all flex-shrink-0",title:t("important.unstar"),children:"★"})]},e.id)})}),0===r.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-5xl mb-4",children:"⭐"}),(0,a.jsx)("p",{className:"text-text-secondary font-semibold",children:t("important.empty")}),(0,a.jsx)("p",{className:"text-text-muted text-sm mt-1",children:t("important.emptyHint")})]})]})})}}},function(e){e.O(0,[815,419,994,936,407,809,744],function(){return e(e.s=4366)}),_N_E=e.O()}]);