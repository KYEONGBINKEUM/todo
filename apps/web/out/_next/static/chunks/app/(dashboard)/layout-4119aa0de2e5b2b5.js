(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{317:function(e,t,s){Promise.resolve().then(s.bind(s,8520))},8520:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(6717),l=s(7387),r=s(8519),n=s(1097),i=s(4580),d=s.n(i),c=s(7541),o=s(9936),x=s(6813);function u(e){document.documentElement.setAttribute("data-font",e)}let m=[{code:"ko",name:"한국어",flag:"\uD83C\uDDF0\uD83C\uDDF7"},{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"ja",name:"日本語",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"pt",name:"Portugu\xeas",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"}],h=[{value:"free",label:"Free",desc:"기본 기능 무제한",color:"#64748b"},{value:"pro",label:"Pro",desc:"AI + 광고 제거 + 10GB",color:"#e94560"},{value:"team",label:"Team",desc:"무제한 협업 + 관리자 기능",color:"#8b5cf6"}];function b(e){var t,s,r,i,d,b;let{onClose:p}=e,{user:f}=(0,n.a)(),{theme:v,setTheme:g}=(0,c.F)(),{t:j,language:N,setLanguage:y}=(0,o.QT)(),[k,D]=(0,l.useState)("account"),[w,C]=(0,l.useState)("medium"),[E,S]=(0,l.useState)("free"),[F,A]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f&&(0,x.nS)(f.uid).then(e=>{var t;let s=null!==(t=e.fontSize)&&void 0!==t?t:"medium";C(s),u(s),S(e.plan||"free"),A(e.isAdmin||!1)})},[f]);let P=e=>{C(e),u(e),f&&(0,x.d2)(f.uid,{fontSize:e})},L=e=>{y(e)},T=e=>{S(e),f&&(0,x.d2)(f.uid,{plan:e})},_=[{id:"account",label:j("settings.account"),icon:"\uD83D\uDC64"},{id:"display",label:j("settings.display"),icon:"\uD83C\uDFA8"},{id:"language",label:j("settings.language"),icon:"\uD83C\uDF10"},{id:"info",label:j("settings.info"),icon:"ℹ️"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:p}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-lg bg-background-card border border-border rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),style:{animation:"fadeUp 0.2s ease-out"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"⚙️"}),(0,a.jsx)("h2",{className:"text-base font-bold text-text-primary",children:j("settings.title")})]}),(0,a.jsx)("button",{onClick:p,className:"w-8 h-8 flex items-center justify-center rounded-lg text-text-muted hover:text-text-primary hover:bg-border transition-colors",children:(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("path",{d:"M1 1L13 13M13 1L1 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-32 border-r border-border py-4 flex-shrink-0",children:_.map(e=>(0,a.jsxs)("button",{onClick:()=>D(e.id),className:"w-full text-left px-4 py-2.5 text-xs font-semibold flex items-center gap-2 transition-colors ".concat(k===e.id?"text-[#e94560] bg-[#e94560]/10":"text-text-secondary hover:text-text-primary hover:bg-border/30"),children:[(0,a.jsx)("span",{children:e.icon}),e.label]},e.id))}),(0,a.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto max-h-[60vh]",children:["account"===k&&(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-3",children:j("settings.profile")}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-background rounded-xl border border-border",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#e94560] to-[#533483] flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:null!==(b=null==f?void 0:null===(s=f.email)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.toUpperCase())&&void 0!==b?b:"?"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-text-primary truncate",children:(null==f?void 0:f.displayName)||"사용자"}),(0,a.jsx)("p",{className:"text-xs text-text-muted truncate",children:null==f?void 0:f.email})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-3",children:j("settings.plan")}),(0,a.jsxs)("div",{className:"p-4 bg-background rounded-xl border border-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-xs font-bold text-text-primary",children:["free"===E?"Free":"pro"===E?"Pro":"Team"," 플랜"]}),(0,a.jsx)("p",{className:"text-[11px] text-text-muted mt-0.5",children:null===(r=h.find(e=>e.value===E))||void 0===r?void 0:r.desc})]}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold",style:{color:null===(i=h.find(e=>e.value===E))||void 0===i?void 0:i.color,backgroundColor:"".concat(null===(d=h.find(e=>e.value===E))||void 0===d?void 0:d.color,"20")},children:j("settings.currentPlan")})]}),(0,a.jsx)("div",{className:"space-y-1.5 mb-4",children:[{label:"할일 목록 관리",included:!0},{label:"노트 작성",included:!0},{label:"기기 동기화",included:!0},{label:"AI 자동 작성/요약",included:"free"!==E},{label:"광고 제거",included:"free"!==E},{label:"무제한 공유 협업",included:"team"===E},{label:"파일 스토리지 10GB",included:"free"!==E}].map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[11px]",children:[(0,a.jsx)("span",{className:e.included?"text-[#22c55e]":"text-text-inactive",children:e.included?"✓":"–"}),(0,a.jsx)("span",{className:e.included?"text-text-secondary":"text-text-inactive",children:e.label})]},e.label))}),F&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-amber-500/5 border border-amber-500/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-xs",children:"\uD83D\uDD27"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-wider",children:"관리자 전용"})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:h.map(e=>(0,a.jsxs)("button",{onClick:()=>T(e.value),className:"p-2 rounded-lg border text-center transition-all ".concat(E===e.value?"border-[#e94560] bg-[#e94560]/10":"border-border hover:border-border-hover"),children:[(0,a.jsx)("span",{className:"text-xs font-bold block",style:{color:e.color},children:e.label}),(0,a.jsx)("span",{className:"text-[9px] text-text-muted",children:e.desc})]},e.value))})]}),!F&&(0,a.jsxs)("button",{className:"w-full py-2.5 rounded-xl text-sm font-bold text-white bg-gradient-to-r from-amber-500 to-red-500 opacity-70 cursor-not-allowed",disabled:!0,children:[j("settings.upgrade")," (준비 중)"]})]})]})]}),"display"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-3",children:j("nav.theme")}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"system",label:j("nav.themeSystem"),icon:"\uD83D\uDDA5"},{value:"light",label:j("nav.themeLight"),icon:"☀️"},{value:"dark",label:j("nav.themeDark"),icon:"\uD83C\uDF19"}].map(e=>(0,a.jsxs)("button",{onClick:()=>g(e.value),className:"p-3 rounded-xl border text-center transition-all ".concat(v===e.value?"border-[#e94560] bg-[#e94560]/10 text-[#e94560]":"border-border text-text-secondary hover:border-border-hover"),children:[(0,a.jsx)("span",{className:"text-xl block mb-1",children:e.icon}),(0,a.jsx)("span",{className:"text-[11px] font-semibold",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-3",children:j("settings.fontSize")}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"small",label:j("settings.fontSmall"),preview:"Aa",size:"text-xs"},{value:"medium",label:j("settings.fontMedium"),preview:"Aa",size:"text-sm"},{value:"large",label:j("settings.fontLarge"),preview:"Aa",size:"text-base"}].map(e=>(0,a.jsxs)("button",{onClick:()=>P(e.value),className:"p-3 rounded-xl border text-center transition-all ".concat(w===e.value?"border-[#e94560] bg-[#e94560]/10 text-[#e94560]":"border-border text-text-secondary hover:border-border-hover"),children:[(0,a.jsx)("span",{className:"".concat(e.size," font-bold block mb-1"),children:e.preview}),(0,a.jsx)("span",{className:"text-[11px] font-semibold",children:e.label})]},e.value))}),(0,a.jsxs)("p",{className:"text-[11px] text-text-muted mt-2",children:["현재: ","small"===w?"12px":"large"===w?"16px":"14px"]})]})]}),"language"===k&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-3",children:j("settings.language")}),(0,a.jsx)("p",{className:"text-[11px] text-text-muted mb-4",children:"접속 지역 및 IP 주소에 따라 자동으로 언어가 감지됩니다. 수동으로 변경할 수도 있습니다."}),(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("button",{onClick:()=>L(e.code),className:"w-full flex items-center gap-3 p-3 rounded-xl border transition-all ".concat(N===e.code?"border-[#e94560] bg-[#e94560]/10":"border-border hover:border-border-hover"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.flag}),(0,a.jsx)("span",{className:"text-sm font-semibold ".concat(N===e.code?"text-[#e94560]":"text-text-primary"),children:e.name}),N===e.code&&(0,a.jsx)("span",{className:"ml-auto text-[#e94560] text-sm",children:"✓"})]},e.code))})]})}),"info"===k&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"✅"}),(0,a.jsx)("h3",{className:"text-lg font-extrabold text-text-primary mb-1",children:"AI Todo"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"버전 0.1.0 — MVP"})]}),(0,a.jsx)("div",{className:"space-y-2 text-xs text-text-secondary",children:[{label:"프레임워크",value:"Next.js 14 (App Router)"},{label:"데이터베이스",value:"Firebase Firestore"},{label:"인증",value:"Firebase Auth"},{label:"배포",value:"Cloudflare Pages"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[(0,a.jsx)("span",{className:"text-text-muted",children:e.label}),(0,a.jsx)("span",{className:"font-medium text-text-primary",children:e.value})]},e.label))}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-background rounded-xl border border-border text-[11px] text-text-muted text-center",children:"\xa9 2026 AI Todo \xb7 개인 프로젝트"})]})]})]})]})})]})}let p=["#e94560","#8b5cf6","#06b6d4","#22c55e","#f59e0b","#ec4899"];function f(){let e=(0,r.usePathname)(),t=(0,r.useRouter)(),{user:s,signOut:i}=(0,n.a)(),{theme:u,setTheme:m}=(0,c.F)(),{t:h}=(0,o.QT)(),[f,v]=(0,l.useState)([]),[g,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(""),[k,D]=(0,l.useState)(!1),[w,C]=(0,l.useState)(""),[E,S]=(0,l.useState)(!1),[F,A]=(0,l.useState)("free"),P=(0,l.useCallback)(async()=>{if(s)try{let e=await (0,x.yr)(s.uid);v(e);let t=await (0,x.nS)(s.uid);A(t.plan||"free")}catch(e){console.error("Failed to load lists:",e)}},[s]);(0,l.useEffect)(()=>{P()},[P]);let L=async()=>{await i(),t.push("/login")},T=async e=>{if(!s||!N.trim()){j(null);return}v(t=>t.map(t=>t.id===e?{...t,label:N.trim()}:t)),j(null);try{await (0,x.s9)(s.uid,e,{label:N.trim()})}catch(e){console.error("Failed to rename list:",e)}},_=async()=>{if(!s||!w.trim()){D(!1);return}let e=p[f.length%p.length],t="temp-".concat(Date.now());v(s=>[...s,{id:t,label:w.trim(),color:e}]),C(""),D(!1);try{let a=await (0,x.$8)(s.uid,{label:w.trim(),color:e});v(e=>e.map(e=>e.id===t?{...e,id:a}:e))}catch(e){console.error("Failed to add list:",e),v(e=>e.filter(e=>e.id!==t))}},K=(null==s?void 0:s.displayName)||"사용자",B=null==s?void 0:s.photoURL,I=K.charAt(0).toUpperCase(),z="free"===F?h("freePlan"):"pro"===F?"Pro Plan":"Team Plan";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("aside",{className:"w-64 border-r border-border bg-background p-6 flex flex-col flex-shrink-0",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(d(),{href:"/my-day",children:(0,a.jsx)("h1",{className:"text-xl font-extrabold bg-gradient-to-r from-text-primary to-[#e94560] bg-clip-text text-transparent",children:"AI Todo"})}),(0,a.jsx)("p",{className:"text-[10px] text-text-muted mt-1 uppercase tracking-widest",children:"Digital Assistant"})]}),(0,a.jsx)("nav",{className:"flex-1 space-y-1",children:[{icon:"☀️",labelKey:"nav.myDay",href:"/my-day"},{icon:"\uD83D\uDCCB",labelKey:"nav.allTasks",href:"/tasks"},{icon:"\uD83D\uDCC5",labelKey:"nav.upcoming",href:"/upcoming"},{icon:"\uD83D\uDCDD",labelKey:"nav.notes",href:"/notes"},{icon:"\uD83D\uDC65",labelKey:"nav.shared",href:"/shared"},{icon:"⭐",labelKey:"nav.important",href:"/important"}].map(t=>{let s=e===t.href||"/tasks"===t.href&&(null==e?void 0:e.startsWith("/tasks"));return(0,a.jsxs)(d(),{href:t.href,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-all ".concat(s?"bg-[#e94560]/10 text-[#e94560] font-semibold":"text-text-secondary hover:bg-background-card hover:text-text-primary"),children:[(0,a.jsx)("span",{className:"text-base",children:t.icon}),(0,a.jsx)("span",{className:"flex-1 text-left",children:h(t.labelKey)})]},t.href)})}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-[10px] text-text-muted uppercase tracking-widest font-semibold",children:h("nav.lists")}),(0,a.jsx)("button",{onClick:()=>D(!k),className:"text-text-inactive hover:text-[#e94560] transition-colors text-sm",title:h("common.add"),children:"+"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[f.map(e=>(0,a.jsxs)("div",{className:"group w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-text-secondary hover:bg-background-card hover:text-text-primary transition-all",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),g===e.id?(0,a.jsx)("input",{value:N,onChange:e=>y(e.target.value),onBlur:()=>T(e.id),onKeyDown:t=>{"Enter"===t.key&&T(e.id),"Escape"===t.key&&j(null)},autoFocus:!0,className:"flex-1 bg-transparent text-text-primary text-sm outline-none border-b border-[#e94560]"}):(0,a.jsx)(d(),{href:"/tasks?list=".concat(e.id),className:"flex-1 cursor-pointer",onDoubleClick:t=>{t.preventDefault(),j(e.id),y(e.label)},title:"클릭: 목록 필터 / 더블클릭: 이름 변경",children:e.label})]},e.id)),k&&(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full flex-shrink-0 bg-[#e94560]"}),(0,a.jsx)("input",{value:w,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&_(),"Escape"===e.key&&D(!1)},onBlur:_,placeholder:"목록 이름...",autoFocus:!0,className:"flex-1 bg-transparent text-text-primary text-sm placeholder-text-muted outline-none border-b border-[#e94560]"})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-border",children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-widest font-semibold mb-2",children:h("nav.theme")}),(0,a.jsx)("div",{className:"flex gap-1",children:[{value:"system",icon:"\uD83D\uDDA5",labelKey:"nav.themeSystem"},{value:"light",icon:"☀️",labelKey:"nav.themeLight"},{value:"dark",icon:"\uD83C\uDF19",labelKey:"nav.themeDark"}].map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.value),title:h(e.labelKey),className:"flex-1 flex flex-col items-center gap-0.5 py-1.5 rounded-lg text-xs transition-all ".concat(u===e.value?"bg-[#e94560]/15 text-[#e94560] font-semibold":"text-text-secondary hover:bg-background-card hover:text-text-primary"),children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{className:"text-[9px]",children:h(e.labelKey)})]},e.value))})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[B?(0,a.jsx)("img",{src:B,alt:K,className:"w-8 h-8 rounded-full flex-shrink-0",referrerPolicy:"no-referrer"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#e94560] to-[#533483] flex items-center justify-center text-xs font-bold text-white flex-shrink-0",children:I}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-text-primary truncate",children:K}),(0,a.jsx)("p",{className:"text-[10px] text-text-muted",children:z})]}),(0,a.jsx)("button",{onClick:()=>S(!0),className:"text-text-inactive hover:text-text-secondary transition-colors flex-shrink-0",title:h("settings.title"),children:(0,a.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,a.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),(0,a.jsx)("button",{onClick:L,className:"text-text-inactive hover:text-[#e94560] transition-colors text-xs flex-shrink-0",title:"로그아웃",children:(0,a.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,a.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,a.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})})]}),E&&(0,a.jsx)(b,{onClose:()=>S(!1)})]})}var v=s(5693);function g(e){let{client:t,slot:s,className:r=""}=e,{user:i}=(0,n.a)(),d=(0,l.useRef)(null),c=(0,l.useRef)(!1),[o,u]=(0,l.useState)("free"),[m,h]=(0,l.useState)(!0),b=null!=t?t:v.env.NEXT_PUBLIC_ADSENSE_CLIENT,p=null!=s?s:v.env.NEXT_PUBLIC_ADSENSE_SLOT,f=!!b&&!!p;return((0,l.useEffect)(()=>{if(!i){h(!1);return}(0,x.nS)(i.uid).then(e=>{u(e.plan||"free"),h(!1)}).catch(()=>h(!1))},[i]),(0,l.useEffect)(()=>{if(f&&!c.current&&"free"===o)try{(window.adsbygoogle=window.adsbygoogle||[]).push({}),c.current=!0}catch(e){}},[f,o]),m||"free"!==o)?null:f?(0,a.jsx)("div",{className:"w-full overflow-hidden ".concat(r),style:{minHeight:52},children:(0,a.jsx)("ins",{ref:d,className:"adsbygoogle",style:{display:"block"},"data-ad-client":b,"data-ad-slot":p,"data-ad-format":"auto","data-full-width-responsive":"true"})}):(0,a.jsxs)("div",{className:"w-full flex items-center justify-center gap-3 px-4 py-2 bg-background-card border-b border-border text-text-muted text-xs ".concat(r),style:{minHeight:52},children:[(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-text-inactive font-semibold",children:"광고"}),(0,a.jsxs)("span",{className:"flex-1 text-center text-text-inactive text-[11px]",children:["Google AdSense — 광고가 이 위치에 표시됩니다 (",(0,a.jsx)("code",{className:"text-[10px]",children:"NEXT_PUBLIC_ADSENSE_CLIENT"})," 환경변수 설정 후 활성화)"]}),(0,a.jsx)("span",{className:"text-[9px] text-text-inactive border border-border rounded px-1.5 py-0.5 flex-shrink-0",children:"AD"})]})}function j(e){let{children:t}=e,{user:s,loading:i}=(0,n.a)(),d=(0,r.useRouter)();return((0,l.useEffect)(()=>{i||s||d.replace("/login")},[s,i,d]),i)?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-[#e94560] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:"로딩 중..."})]})}):s?(0,a.jsxs)("div",{className:"flex min-h-screen bg-background text-text-primary",style:{fontFamily:"'Pretendard Variable', -apple-system, sans-serif"},children:[(0,a.jsx)(f,{}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[(0,a.jsx)(g,{}),(0,a.jsx)("div",{className:"flex-1",children:t})]})]}):null}},7541:function(e,t,s){"use strict";s.d(t,{F:function(){return o},f:function(){return c}});var a=s(6717),l=s(7387),r=s(1097),n=s(6813);let i=(0,l.createContext)({theme:"system",setTheme:()=>{}});function d(e){let t=document.documentElement;if("light"===e)t.classList.add("light"),t.classList.remove("dark");else if("dark"===e)t.classList.add("dark"),t.classList.remove("light");else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e),t.classList.toggle("light",!e)}}function c(e){let{children:t}=e,{user:s}=(0,r.a)(),[c,o]=(0,l.useState)("system");return(0,l.useEffect)(()=>{s&&(0,n.nS)(s.uid).then(e=>{o(e.theme),d(e.theme)})},[s]),(0,l.useEffect)(()=>{if("system"!==c)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>d("system");return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[c]),(0,a.jsx)(i.Provider,{value:{theme:c,setTheme:e=>{o(e),d(e),s&&(0,n.d2)(s.uid,{theme:e})}},children:t})}let o=()=>(0,l.useContext)(i)},8519:function(e,t,s){"use strict";var a=s(5878);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[815,419,994,580,936,407,809,744],function(){return e(e.s=317)}),_N_E=e.O()}]);