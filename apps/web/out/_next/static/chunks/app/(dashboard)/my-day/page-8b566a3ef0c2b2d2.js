(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{9769:function(e,t,r){Promise.resolve().then(r.bind(r,1136))},1136:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7573),o=r(7653),l=r(4193),n=r(9937),s=r(6921),d=r(1668),i=r(6307),c=r(2052),x=r(1676);let u=[{id:"my-tasks",label:"My Tasks",color:"#e94560"},{id:"work",label:"업무",color:"#8b5cf6"},{id:"personal",label:"개인",color:"#06b6d4"}],b={urgent:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30",label:"긴급"},high:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30",label:"높음"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30",label:"보통"},low:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30",label:"낮음"}};function m(e){return[...e.matchAll(/@([\w가-힣]+)/g)].map(e=>e[1])}function h(e){return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}function p(){return h(new Date)}function g(e){if(e.createdDate)return e.createdDate;if(e.createdAt&&"function"==typeof e.createdAt.toDate){let t=e.createdAt.toDate();return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))}return"1970-01-01"}function f(){var e;let{user:t}=(0,l.a)(),{t:r}=(0,n.QT)(),{tasks:f,lists:v,loading:y}=(0,c.a)(),[j,k]=(0,o.useState)([]),[N,w]=(0,o.useState)(u),[D,C]=(0,o.useState)(""),[S,T]=(0,o.useState)(""),[_,L]=(0,o.useState)("medium"),[M,P]=(0,o.useState)(null),[E,B]=(0,o.useState)(null),[F,A]=(0,o.useState)(!1),[I,W]=(0,o.useState)(null),[J,R]=(0,o.useState)(p()),[K,O]=(0,o.useState)(!0),[U,Y]=(0,o.useState)(null),[z,H]=(0,o.useState)(null),Q=(0,o.useRef)(!1),[Z,q]=(0,o.useState)(null),[G,V]=(0,o.useState)(!1),[X,$]=(0,o.useState)(""),[ee,et]=(0,o.useState)(""),er=null!==(e=j.find(e=>e.id===Z))&&void 0!==e?e:null,ea=(0,o.useRef)(null),eo=p(),el=J===eo,en=function(e){let t=new Date(e+"T00:00:00"),r=p(),a=[],o=["일","월","화","수","목","금","토"];for(let e=-3;e<=3;e++){let l=new Date(t);l.setDate(t.getDate()+e);let n=h(l);a.push({date:l,dateStr:n,day:l.getDate(),weekday:o[l.getDay()],isToday:n===r,month:l.getMonth()+1})}return a}(J);(0,d.D)(j);let es=e=>{let t=new Date(J+"T00:00:00");t.setDate(t.getDate()+e),R(h(t))},[ed,ei]=(0,o.useState)(new Set);(0,o.useEffect)(()=>{if(Q.current)return;let e=f.filter(e=>e.myDay),t=e.filter(e=>!(g(e)>J)&&("completed"!==e.status||null!=e.completedDate&&e.completedDate>J)),r=e.filter(e=>"completed"===e.status&&e.completedDate===J);ei(new Set(r.map(e=>e.id))),k([...t,...r].sort((e,t)=>void 0!==e.order&&void 0!==t.order?e.order-t.order:void 0!==e.order?-1:void 0!==t.order?1:0).map((e,t)=>{var r;return{...e,order:null!==(r=e.order)&&void 0!==r?r:(t+1)*1e3}}))},[f,J]),(0,o.useEffect)(()=>{v.length>0&&(w(v),S||T(v[0].id))},[v]);let ec=new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),ex=j.filter(e=>!M||e.listId===M).filter(e=>{var t;return!E||(null!==(t=e.tags)&&void 0!==t?t:[]).includes(E)}),eu=ex.filter(e=>!ed.has(e.id)),eb=ex.filter(e=>ed.has(e.id)),em=eb.length,eh=ex.length,ep=[...new Set(j.flatMap(e=>{var t;return null!==(t=e.tags)&&void 0!==t?t:[]}))].filter(Boolean),eg=!M&&!E,ef=(e,t)=>{Y(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",String(t))},ev=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",H(t)},ey=()=>{Y(null),H(null)},ej=async(e,r)=>{if(e.preventDefault(),ey(),null===U||U===r||Q.current)return;let a=[...eu],[o]=a.splice(U,1);a.splice(r,0,o);let l=a.map((e,t)=>({...e,order:(t+1)*1e3}));if(k(l),t){Q.current=!0;try{await Promise.all(l.map(e=>(0,s.xJ)(t.uid,e.id,{order:e.order})))}finally{Q.current=!1}}},ek=async e=>{if(!t||!e.id)return;let r="completed"===e.status?"todo":"completed",a="completed"===r?J:null;await (0,s.xJ)(t.uid,e.id,{status:r,completedDate:a})},eN=async e=>{t&&e.id&&await (0,s.xJ)(t.uid,e.id,{starred:!e.starred})},ew=async()=>{if(!D.trim()||!t||F)return;A(!0);let e=D.trim(),r=m(e),a=j.reduce((e,t)=>{var r;return Math.max(e,null!==(r=t.order)&&void 0!==r?r:0)},0);C("");try{var o;await (0,s.gI)(t.uid,{title:e,status:"todo",priority:_,starred:!1,listId:S||(null===(o=N[0])||void 0===o?void 0:o.id)||"",myDay:!0,tags:r,order:a+1e3,createdDate:J})}catch(e){W("할일 추가 실패")}finally{A(!1)}},eD=async e=>{var r;if(!t||!e.id)return;Z===e.id&&q(null);let a=null!==(r=e.attachments)&&void 0!==r?r:[];a.length&&await (0,i.nd)(a),await (0,s._5)(t.uid,e.id)},eC=async e=>{if(!t||!Z)return;let r={...e};void 0!==e.title&&(r.tags=m(e.title)),"completed"===e.status&&(r.completedDate=p()),e.status&&"completed"!==e.status&&(r.completedDate=null),await (0,s.xJ)(t.uid,Z,r)},eS=async e=>{if(t&&confirm("".concat(e," 기록을 삭제하시겠습니까?")))for(let a of f.filter(t=>t.myDay&&g(t)===e)){var r;(null===(r=a.attachments)||void 0===r?void 0:r.length)&&await (0,i.nd)(a.attachments),await (0,s._5)(t.uid,a.id)}},eT=async()=>{if(t&&X&&ee&&confirm("".concat(X," ~ ").concat(ee," 기간의 기록을 삭제하시겠습니까?"))){for(let r of f.filter(e=>{if(!e.myDay)return!1;let t=g(e);return t>=X&&t<=ee})){var e;(null===(e=r.attachments)||void 0===e?void 0:e.length)&&await (0,i.nd)(r.attachments),await (0,s._5)(t.uid,r.id)}$(""),et(""),V(!1)}},e_=async()=>{if(!t)return;let e=p(),r=f.filter(t=>!!t.myDay&&g(t)<e&&"completed"===t.status);if(!r.length){alert("삭제할 완료된 과거 기록이 없습니다.");return}if(confirm("오늘 이전 완료된 기록 ".concat(r.length,"개를 삭제하시겠습니까?"))){for(let e of r){var a;(null===(a=e.attachments)||void 0===a?void 0:a.length)&&await (0,i.nd)(e.attachments),await (0,s._5)(t.uid,e.id)}V(!1)}},eL=async()=>{if(!t)return;let e=f.filter(e=>e.myDay);if(!e.length){alert("삭제할 기록이 없습니다.");return}if(confirm("My Day 전체 기록 ".concat(e.length,"개를 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다."))){for(let a of e){var r;(null===(r=a.attachments)||void 0===r?void 0:r.length)&&await (0,i.nd)(a.attachments),await (0,s._5)(t.uid,a.id)}V(!1)}},eM=e=>N.find(t=>t.id===e)||N[0]||u[0];return y?(0,a.jsx)("div",{className:"p-8 flex items-center justify-center min-h-[50vh]",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-[#e94560] border-t-transparent rounded-full animate-spin"})}):I?(0,a.jsx)("div",{className:"p-8 flex items-center justify-center min-h-[50vh]",children:(0,a.jsxs)("div",{className:"max-w-md text-center p-6 bg-red-500/10 border border-red-500/30 rounded-xl",children:[(0,a.jsx)("p",{className:"text-red-400 font-semibold mb-2",children:"오류 발생"}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:I}),(0,a.jsx)("button",{onClick:()=>W(null),className:"mt-4 px-4 py-2 bg-[#e94560] text-white text-sm rounded-lg hover:bg-[#ff5a7a]",children:"닫기"})]})}):(0,a.jsxs)("div",{className:"p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"text-3xl",children:"☀️"}),(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-text-primary",children:r("myDay.title")}),(0,a.jsxs)("div",{className:"ml-auto relative",children:[(0,a.jsx)("button",{onClick:()=>V(!G),className:"px-3 py-1.5 text-[11px] text-text-muted hover:text-[#e94560] border border-border hover:border-[#e94560]/30 rounded-lg transition-colors",children:"\uD83D\uDDD1️ 기록 관리"}),G&&(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 bg-background-card border border-border rounded-xl shadow-2xl z-50 p-4 space-y-3",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-text-primary",children:"과거 기록 삭제"}),(0,a.jsxs)("button",{onClick:()=>{eS(J),V(!1)},className:"w-full text-left px-3 py-2 text-xs text-text-secondary hover:bg-[#e94560]/10 hover:text-[#e94560] rounded-lg transition-colors",children:["\uD83D\uDCC5 ",J," 기록 삭제"]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted font-semibold",children:"기간 설정 삭제"}),(0,a.jsxs)("div",{className:"flex gap-1.5",children:[(0,a.jsx)("input",{type:"date",value:X,onChange:e=>$(e.target.value),className:"flex-1 px-2 py-1.5 bg-background border border-border rounded-lg text-[11px] text-text-primary focus:outline-none focus:border-[#e94560]"}),(0,a.jsx)("span",{className:"text-text-muted text-xs self-center",children:"~"}),(0,a.jsx)("input",{type:"date",value:ee,onChange:e=>et(e.target.value),className:"flex-1 px-2 py-1.5 bg-background border border-border rounded-lg text-[11px] text-text-primary focus:outline-none focus:border-[#e94560]"})]}),(0,a.jsx)("button",{onClick:eT,disabled:!X||!ee,className:"w-full px-3 py-1.5 text-[11px] bg-[#e94560] text-white rounded-lg hover:bg-[#ff5a7a] transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:"기간 내 기록 삭제"})]}),(0,a.jsx)("button",{onClick:e_,className:"w-full text-left px-3 py-2 text-xs text-[#e94560] hover:bg-[#e94560]/10 rounded-lg transition-colors border border-[#e94560]/20",children:"\uD83E\uDDF9 오늘 이전 완료된 기록 전체 삭제"}),(0,a.jsx)("button",{onClick:eL,className:"w-full text-left px-3 py-2 text-xs text-red-500 hover:bg-red-500/10 rounded-lg transition-colors border border-red-500/20 font-semibold",children:"⚠️ My Day 전체 기록 삭제"}),(0,a.jsx)("button",{onClick:()=>V(!1),className:"w-full text-center text-[10px] text-text-muted py-1",children:"닫기"})]})]})]}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:ec})]}),(0,a.jsxs)("div",{className:"mb-6 bg-background-card border border-border rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3 pt-3 pb-1",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-text-primary",children:(()=>{let e=new Date(J+"T00:00:00");return"".concat(e.getFullYear(),"년 ").concat(e.getMonth()+1,"월")})()}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[!el&&(0,a.jsx)("button",{onClick:()=>R(eo),className:"px-2.5 py-1 rounded-lg text-[10px] font-bold bg-[#e94560]/15 text-[#e94560] hover:bg-[#e94560]/25 transition-colors",children:"오늘"}),(0,a.jsx)("button",{onClick:()=>{var e;return null===(e=ea.current)||void 0===e?void 0:e.showPicker()},className:"w-7 h-7 flex items-center justify-center rounded-lg text-text-muted hover:text-[#e94560] hover:bg-border/50 transition-colors",title:"날짜 선택",children:(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,a.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,a.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,a.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),(0,a.jsx)("input",{ref:ea,type:"date",value:J,onChange:e=>{e.target.value&&R(e.target.value)},className:"absolute w-0 h-0 opacity-0 pointer-events-none",tabIndex:-1})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 pb-3",children:[(0,a.jsx)("button",{onClick:()=>es(-7),className:"w-7 h-7 flex items-center justify-center rounded-lg text-text-muted hover:text-text-primary hover:bg-border/50 transition-colors flex-shrink-0",title:"이전 7일",children:(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,a.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-1",children:en.map(e=>(0,a.jsxs)("button",{onClick:()=>R(e.dateStr),className:"flex flex-col items-center py-2 rounded-xl transition-all ".concat(J===e.dateStr&&e.isToday?"bg-gradient-to-br from-[#e94560] to-[#533483] text-white shadow-lg shadow-[#e94560]/20":J===e.dateStr?"bg-[#e94560]/15 text-[#e94560] border border-[#e94560]/30":e.isToday?"text-[#e94560] font-bold hover:bg-[#e94560]/10":"text-text-secondary hover:bg-background-hover"),children:[(0,a.jsx)("span",{className:"text-[10px] font-medium mb-0.5",children:e.weekday}),(0,a.jsx)("span",{className:"text-lg font-bold ".concat(J===e.dateStr&&e.isToday?"text-white":""),children:e.day})]},e.dateStr))}),(0,a.jsx)("button",{onClick:()=>es(7),className:"w-7 h-7 flex items-center justify-center rounded-lg text-text-muted hover:text-text-primary hover:bg-border/50 transition-colors flex-shrink-0",title:"다음 7일",children:(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})]}),!el&&(0,a.jsxs)("div",{className:"mb-4 px-4 py-2.5 bg-[#e94560]/10 border border-[#e94560]/20 rounded-xl flex items-center gap-2 text-xs text-[#e94560]",children:[(0,a.jsx)("span",{children:"\uD83D\uDCC5"}),(0,a.jsx)("span",{className:"font-semibold",children:new Date(J+"T00:00:00").toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"})})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-background-card border border-border rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:r("myDay.progress")}),(0,a.jsxs)("span",{className:"text-sm font-bold text-[#e94560]",children:[em,"/",eh]})]}),(0,a.jsx)("div",{className:"w-full h-2.5 bg-border rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#e94560] to-[#533483] rounded-full transition-all duration-500",style:{width:"".concat(eh>0?em/eh*100:0,"%")}})})]}),(0,a.jsxs)("div",{className:"mb-3 flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>P(null),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ".concat(M?"bg-background-card text-text-secondary border border-border hover:border-border-hover":"bg-[#e94560]/20 text-[#e94560] border border-[#e94560]/30"),children:r("common.all")}),N.map(e=>(0,a.jsxs)("button",{onClick:()=>P(M===e.id?null:e.id),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all flex items-center gap-1.5 ".concat(M===e.id?"bg-background-card border":"bg-background-card text-text-secondary border border-border hover:border-border-hover"),style:M===e.id?{borderColor:e.color,color:e.color}:void 0,children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),e.label]},e.id))]}),ep.length>0&&(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-[10px] text-text-muted uppercase tracking-wider",children:"@태그"}),E&&(0,a.jsx)("button",{onClick:()=>B(null),className:"px-2.5 py-1 rounded-lg text-xs bg-background-card text-text-secondary border border-border hover:border-border-hover transition-all",children:r("common.all")}),ep.map(e=>(0,a.jsxs)("button",{onClick:()=>B(E===e?null:e),className:"px-2.5 py-1 rounded-lg text-xs font-semibold transition-all border ".concat(E===e?"bg-[#8b5cf6]/15 text-[#8b5cf6] border-[#8b5cf6]/30":"text-text-secondary border-border hover:border-border-hover hover:bg-background-card"),children:["@",e]},e))]}),(0,a.jsxs)("div",{className:"mb-6 flex gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 flex bg-background-card border border-border rounded-xl overflow-hidden focus-within:border-[#e94560] transition-colors",children:[(0,a.jsx)("input",{type:"text",value:D,onChange:e=>C(e.target.value),onKeyDown:e=>"Enter"===e.key&&ew(),placeholder:r("myDay.addTask"),className:"flex-1 px-4 py-3 bg-transparent text-text-primary placeholder-text-muted text-sm focus:outline-none"}),(0,a.jsxs)("select",{value:_,onChange:e=>L(e.target.value),className:"px-2 bg-transparent text-xs border-l border-border focus:outline-none cursor-pointer text-text-secondary",children:[(0,a.jsx)("option",{value:"urgent",className:"bg-background-card",children:r("priority.urgent")}),(0,a.jsx)("option",{value:"high",className:"bg-background-card",children:r("priority.high")}),(0,a.jsx)("option",{value:"medium",className:"bg-background-card",children:r("priority.medium")}),(0,a.jsx)("option",{value:"low",className:"bg-background-card",children:r("priority.low")})]}),(0,a.jsx)("select",{value:S,onChange:e=>T(e.target.value),className:"px-2 bg-transparent text-text-secondary text-xs border-l border-border focus:outline-none cursor-pointer",children:N.map(e=>(0,a.jsx)("option",{value:e.id,className:"bg-background-card",children:e.label},e.id))})]}),(0,a.jsx)("button",{onClick:ew,disabled:F,className:"px-5 py-3 bg-[#e94560] hover:bg-[#ff5a7a] text-white font-semibold rounded-xl text-sm transition-colors disabled:opacity-50",children:F?"...":r("common.add")})]}),eg&&ex.length>1&&(0,a.jsxs)("p",{className:"text-[10px] text-text-inactive mb-2 flex items-center gap-1",children:[(0,a.jsx)("span",{children:"⋮⋮"}),(0,a.jsx)("span",{children:r("myDay.dragHint")})]}),(0,a.jsx)("div",{className:"space-y-2",children:eu.map((e,t)=>{var r,o,l;let n=b[e.priority],s=eM(e.listId),d=Z===e.id,i=U===t,c=z===t,x=null!==(o=e.tags)&&void 0!==o?o:[];return(0,a.jsxs)("div",{draggable:eg,onDragStart:eg?e=>ef(e,t):void 0,onDragOver:eg?e=>ev(e,t):void 0,onDrop:eg?e=>ej(e,t):void 0,onDragEnd:ey,onClick:()=>q(d?null:e.id),className:"group flex items-center gap-3 p-4 bg-background-card border rounded-xl transition-all cursor-pointer select-none ".concat(i?"opacity-40 scale-95":c?"border-[#e94560] shadow-[0_0_12px_rgba(233,69,96,0.15)]":d?"border-[#e94560]/40 shadow-[0_0_12px_rgba(233,69,96,0.08)]":"border-border hover:border-border-hover"),style:{animation:c?void 0:"fadeUp 0.4s ease-out both",animationDelay:"".concat(.05*t,"s")},children:[eg&&(0,a.jsx)("span",{className:"opacity-0 group-hover:opacity-100 text-text-inactive text-xs cursor-grab active:cursor-grabbing flex-shrink-0 select-none",title:"드래그하여 순서 변경",children:"⋮⋮"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),ek(e)},className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 hover:border-[#e94560] hover:shadow-[0_0_8px_rgba(233,69,96,0.3)]",style:{borderColor:"var(--color-checkbox-border)"}}),(0,a.jsx)("span",{className:"w-1.5 h-8 rounded-full flex-shrink-0",style:{backgroundColor:s.color}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("span",{className:"block text-sm text-text-primary",children:e.title}),x.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:x.map(e=>(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),B(E===e?null:e)},className:"text-[9px] px-1.5 py-0.5 rounded bg-[#8b5cf6]/10 text-[#8b5cf6] font-semibold hover:bg-[#8b5cf6]/20 transition-colors",children:["@",e]},e))})]}),(null!==(l=null===(r=e.subTasks)||void 0===r?void 0:r.length)&&void 0!==l?l:0)>0&&(0,a.jsxs)("span",{className:"text-[10px] text-text-muted flex-shrink-0",children:["\uD83D\uDCCB ",e.subTasks.filter(e=>e.completed).length,"/",e.subTasks.length]}),(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full border flex-shrink-0",style:{color:s.color,borderColor:"".concat(s.color,"40"),backgroundColor:"".concat(s.color,"10")},children:s.label}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold border flex-shrink-0 ".concat(n.bg," ").concat(n.text," ").concat(n.border),children:n.label}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),eN(e)},className:"text-lg transition-all duration-200 flex-shrink-0 ".concat(e.starred?"text-amber-400":"text-text-inactive hover:text-amber-400/60"),children:e.starred?"★":"☆"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),q(e.id)},className:"opacity-0 group-hover:opacity-100 text-text-inactive hover:text-text-secondary transition-all flex-shrink-0",title:"상세 보기 / 편집",children:(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,a.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),eD(e)},className:"opacity-0 group-hover:opacity-100 text-text-inactive hover:text-[#e94560] transition-all text-lg flex-shrink-0",children:"\xd7"})]},e.id)})}),0===eu.length&&0===eb.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-5xl mb-4",children:0===j.length?"☀️":E?"\uD83C\uDFF7️":"\uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-text-secondary font-semibold",children:0===j.length?r("myDay.emptyAll"):E?"@".concat(E," ").concat(r("myDay.emptyTag")):r(M?"myDay.emptyList":"myDay.emptyComplete")})]}),eb.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("button",{onClick:()=>O(!K),className:"flex items-center gap-2 text-text-muted text-sm mb-3 hover:text-text-secondary transition-colors w-full",children:[(0,a.jsx)("span",{className:"transition-transform duration-200 text-xs ".concat(K?"rotate-90":""),children:"▶"}),(0,a.jsx)("span",{className:"font-semibold",children:r("status.completed")}),(0,a.jsx)("span",{className:"text-[10px] bg-border px-2 py-0.5 rounded-full",children:eb.length})]}),K&&(0,a.jsx)("div",{className:"space-y-2",children:eb.map((e,t)=>{var r,o,l;let n=b[e.priority],s=eM(e.listId),d=Z===e.id,i=null!==(o=e.tags)&&void 0!==o?o:[];return(0,a.jsxs)("div",{onClick:()=>q(d?null:e.id),className:"group flex items-center gap-3 p-4 bg-background-card border rounded-xl transition-all cursor-pointer opacity-60 ".concat(d?"border-[#e94560]/40":"border-border/50 hover:border-border-hover hover:opacity-80"),style:{animation:"fadeUp 0.3s ease-out both",animationDelay:"".concat(.03*t,"s")},children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),ek(e)},className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 bg-gradient-to-br from-[#e94560] to-[#533483] border-transparent",children:(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("path",{d:"M3 7L6 10L11 4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("span",{className:"w-1.5 h-8 rounded-full flex-shrink-0",style:{backgroundColor:s.color}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("span",{className:"block text-sm line-through text-text-inactive",children:e.title}),i.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:i.map(e=>(0,a.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-[#8b5cf6]/10 text-[#8b5cf6]",children:["@",e]},e))})]}),(null!==(l=null===(r=e.subTasks)||void 0===r?void 0:r.length)&&void 0!==l?l:0)>0&&(0,a.jsxs)("span",{className:"text-[10px] text-text-muted flex-shrink-0",children:["\uD83D\uDCCB ",e.subTasks.filter(e=>e.completed).length,"/",e.subTasks.length]}),(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full border flex-shrink-0",style:{color:s.color,borderColor:"".concat(s.color,"40"),backgroundColor:"".concat(s.color,"10")},children:s.label}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold border flex-shrink-0 ".concat(n.bg," ").concat(n.text," ").concat(n.border),children:n.label}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),eD(e)},className:"opacity-0 group-hover:opacity-100 text-text-inactive hover:text-[#e94560] transition-all text-lg flex-shrink-0",children:"\xd7"})]},e.id)})})]})]}),er&&(0,a.jsx)(x.Z,{task:er,onClose:()=>q(null),onUpdate:eC,onDelete:()=>eD(er)})]})}}},function(e){e.O(0,[301,787,226,937,676,293,528,744],function(){return e(e.s=9769)}),_N_E=e.O()}]);